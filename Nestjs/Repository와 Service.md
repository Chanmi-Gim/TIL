# Repository와 Service

차이점 :

-   Repository: 데이터베이스 접근과 관련된 로직으로 데이터 액세스에 쓰인다.
-   Service : 애플리케이션의 주요 로직과 비즈니스 규칙을 구현한다.데이터 액세스 로직은 직접 포함하지 않고 Repo를 주입받아 사용한다.
-   Repo가 데이터베이스에 접근하는 코드가 모여있다면, service는 데이터베이스에 접근하는 코드는 Repo에 위임하고 비즈니스 로직과 관련된 모든 코드가 모여있다고 생각하면 된다. 기본 CRUD 작업은 service에서 Repository의 내장 메서드를 활용하고, 복잡한 또는 특화된 데이터베이스 작업을 수행해야 할 때만 별도의 메서드를 Repository에 추가하자. ( 내장메서드 : find, findOne, save, remove, update... )

## Repository

-   데이터베이스와의 상호작용을 추상화한다.
-   CRUD 연산 및 복잡한 데이터베이스 쿼리 로직을 포함한다.
-   @EntityRepository() 데코레이터를 사용하여 특정 엔터티에 연결된다.
-   데이터베이스 테이블에 직접적인 연산을 수행하는 코드가 주로 위치한다.
    ### Entity
    -   데이터베이스 테이블에 매핑되는 클래스
    -   데이터베이스의 레코드와 애플리케이션의 객체를 매핑한다.
    -   @Entity() 데코레이터를 사용하여 클래스를 엔터티로 정의한다.

## Service

-   필요한 데이터를 가져오기 위해 'repository'를 사용하거나 다른 서비스를 호출하고 비즈니스 로직에 따라 데이터를 가공한 후 결과를 반환한다.
-   @Injectable() 데코레이터를 사용하여 NestJS의 Dependency Injection 시스템에 등록된다.
